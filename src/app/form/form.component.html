<p-toast></p-toast>

<form [formGroup]="userform" (ngSubmit)="onSubmit(userform.value)">
  <p-panel header="Validate">
    <div class="ui-fluid forms-grid" style="margin: 1em 0">
      <div>
        <div>First Name *</div>
        <input
          pInputText
          type="text"
          formControlName="firstname"
          placeholder="Required"
        />
        <p-message
          severity="error"
          text="Firstname is required"
          *ngIf="
            !userform.controls['firstname'].valid &&
            userform.controls['firstname'].dirty
          "
        ></p-message>
      </div>
      <div>
        <div>Last Name *</div>
        <input
          pInputText
          type="text"
          formControlName="lastname"
          placeholder="Required"
        />
        <p-message
          severity="error"
          text="Lastname is required"
          *ngIf="
            !userform.controls['lastname'].valid &&
            userform.controls['lastname'].dirty
          "
        ></p-message>
      </div>
      <div>
        <div>Password *</div>
        <input
          pInputText
          type="password"
          formControlName="password"
          placeholder="Required - Min(6)"
        />
        <!-- <p-message
          severity="error"
          [text]="
            userform.controls['password'].errors['required']
              ? 'Password is required'
              : userform.controls['password'].errors['minlength']
              ? 'Must be longer than 6 characters'
              : ''
          "
          *ngIf="
            !userform.controls['password'].valid &&
            userform.controls['password'].dirty
          "
        ></p-message> -->
      </div>
      <div>
        <div>Brand *</div>
        <p-autoComplete
          formControlName="brand"
          [suggestions]="filteredBrands"
          (completeMethod)="filterBrands($event)"
          [size]="30"
          [minLength]="1"
          placeholder="Brand"
        >
        </p-autoComplete>
      </div>
      <!-- <div>
                <div>City *</div>
                <p-dropdown [options]="cities" formControlName="city" placeholder="Select a City" optionLabel="name" [showClear]="true"></p-dropdown>
            </div> -->
      <div>
        <div>Description</div>
        <textarea
          pInputTextarea
          type="text"
          formControlName="description"
        ></textarea>
      </div>
      <div class="p-fluid">
        <div>Phone Number</div>
        <div class="p-lg-4">
          <p-inputMask
            mask="999 999 9999"
            placeholder="999 999 9999"
            formControlName="phonenumber"
          ></p-inputMask>
        </div>
      </div>
      <div>
        <button
          pButton
          type="submit"
          label="Submit"
          [disabled]="!userform.valid"
        ></button>
      </div>

      <div style="text-align: center; margin-top: 20px" *ngIf="submitted">
        Form Submitted
        <br />
        {{ diagnostic }}
      </div>
    </div>
  </p-panel>
</form>
